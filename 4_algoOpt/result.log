g++-9 -o bin/eval_baseline src/eval_baseline.cc -I. -g -O3 -W -std=c++17 -lstdc++fs -fopenmp  -march=native
g++-9 -o bin/eval_remapped src/eval_remapped.cc -I. -g -O3 -W -std=c++17 -lstdc++fs -fopenmp  -march=native

Running baseline on dataset amazon_Home_and_Kitchen
Eval Phase 0: Reading Command Line Arguments...

=================== EVAL INFO ==================
Embedding Dimension                   : 64
Number of Threads                     : 20
===============================================

Eval Phase 1: Retrieving Test Queries...

testFilename : /home/seonghoon/MERCI/data/4_filtered/amazon_Home_and_Kitchen/amazon_Home_and_Kitchen_test_filtered.txt
============= META INFO =============
# of Features (train + test)    : 1016319
=====================================

================== QUERY INFO ==================
# of Queries                   : 2248929
Sum of Transaction Length (SOT): 115878411
Average Transaction Length     : 51.526
================================================


Eval Phase 2: Building Embedding Table...

Eval Phase 3: Running Baseline...

Total Compute Time = PIM Compute Time + Host Compute Time
                   = 4229704 + 108318783
                   = 112548487

Throughput = Total Amount of Computation / Total Compute Time
           = 7416218304 / 112548487
           = 65.8935

Reduction Sum (for verification): 233611

Running remapped on dataset amazon_Home_and_Kitchen
Eval Phase 0: Reading Command Line Arguments...

=================== EVAL INFO ==================
Embedding Dimension                   : 64
Number of Threads                     : 20
===============================================

Eval Phase 1: Retrieving Test Queries...

testFilename : /home/seonghoon/MERCI/data/6_evaluation_input/amazon_Home_and_Kitchen/partition_8000/test_remap_only.dat
============= META INFO =============
# of Items (train + test)    : 1016319
=====================================

================== QUERY INFO ==================
# of Queries                   : 2248929
Sum of Transaction Length (SOT): 115878411
Average Transaction Length     : 51.526
================================================


Eval Phase 2: Building Embedding Table...

Eval Phase 3: Running Remapped...

Total Compute Time = PIM Compute Time + Host Compute Time
                   = 54146386 + 15551539
                   = 69697925

Throughput = Total Amount of Computation / Total Compute Time
           = 7416218304 / 69697925
           = 106.405

Reduction Sum (for verification): 233611

Running baseline on dataset amazon_Sports_and_Outdoors
Eval Phase 0: Reading Command Line Arguments...

=================== EVAL INFO ==================
Embedding Dimension                   : 64
Number of Threads                     : 20
===============================================

Eval Phase 1: Retrieving Test Queries...

testFilename : /home/seonghoon/MERCI/data/4_filtered/amazon_Sports_and_Outdoors/amazon_Sports_and_Outdoors_test_filtered.txt
============= META INFO =============
# of Features (train + test)    : 802940
=====================================

================== QUERY INFO ==================
# of Queries                   : 1193872
Sum of Transaction Length (SOT): 114851576
Average Transaction Length     : 96.2009
================================================


Eval Phase 2: Building Embedding Table...

Eval Phase 3: Running Baseline...

Total Compute Time = PIM Compute Time + Host Compute Time
                   = 3054415 + 99976356
                   = 103030771

Throughput = Total Amount of Computation / Total Compute Time
           = 7350500864 / 103030771
           = 71.3428

Reduction Sum (for verification): 231541

Running remapped on dataset amazon_Sports_and_Outdoors
Eval Phase 0: Reading Command Line Arguments...

=================== EVAL INFO ==================
Embedding Dimension                   : 64
Number of Threads                     : 20
===============================================

Eval Phase 1: Retrieving Test Queries...

testFilename : /home/seonghoon/MERCI/data/6_evaluation_input/amazon_Sports_and_Outdoors/partition_6340/test_remap_only.dat
============= META INFO =============
# of Items (train + test)    : 802940
=====================================

================== QUERY INFO ==================
# of Queries                   : 1193872
Sum of Transaction Length (SOT): 114851576
Average Transaction Length     : 96.2009
================================================


Eval Phase 2: Building Embedding Table...

Eval Phase 3: Running Remapped...

Total Compute Time = PIM Compute Time + Host Compute Time
                   = 46920201 + 10078043
                   = 56998244

Throughput = Total Amount of Computation / Total Compute Time
           = 7350500864 / 56998244
           = 128.96

Reduction Sum (for verification): 231541

Running baseline on dataset amazon_Electronics
Eval Phase 0: Reading Command Line Arguments...

=================== EVAL INFO ==================
Embedding Dimension                   : 64
Number of Threads                     : 20
===============================================

Eval Phase 1: Retrieving Test Queries...

testFilename : /home/seonghoon/MERCI/data/4_filtered/amazon_Electronics/amazon_Electronics_test_filtered.txt
============= META INFO =============
# of Features (train + test)    : 471792
=====================================

================== QUERY INFO ==================
# of Queries                   : 2139464
Sum of Transaction Length (SOT): 119391534
Average Transaction Length     : 55.8044
================================================


Eval Phase 2: Building Embedding Table...

Eval Phase 3: Running Baseline...

Total Compute Time = PIM Compute Time + Host Compute Time
                   = 4947072 + 102586203
                   = 107533275

Throughput = Total Amount of Computation / Total Compute Time
           = 7641058176 / 107533275
           = 71.0576

Reduction Sum (for verification): 240693

Running remapped on dataset amazon_Electronics
Eval Phase 0: Reading Command Line Arguments...

=================== EVAL INFO ==================
Embedding Dimension                   : 64
Number of Threads                     : 20
===============================================

Eval Phase 1: Retrieving Test Queries...

testFilename : /home/seonghoon/MERCI/data/6_evaluation_input/amazon_Electronics/partition_3720/test_remap_only.dat
============= META INFO =============
# of Items (train + test)    : 471792
=====================================

================== QUERY INFO ==================
# of Queries                   : 2139464
Sum of Transaction Length (SOT): 119391534
Average Transaction Length     : 55.8044
================================================


Eval Phase 2: Building Embedding Table...

Eval Phase 3: Running Remapped...

Total Compute Time = PIM Compute Time + Host Compute Time
                   = 63903232 + 11690384
                   = 75593616

Throughput = Total Amount of Computation / Total Compute Time
           = 7641058176 / 75593616
           = 101.081

Reduction Sum (for verification): 240693

Running baseline on dataset amazon_Office_Products
Eval Phase 0: Reading Command Line Arguments...

=================== EVAL INFO ==================
Embedding Dimension                   : 64
Number of Threads                     : 20
===============================================

Eval Phase 1: Retrieving Test Queries...

testFilename : /home/seonghoon/MERCI/data/4_filtered/amazon_Office_Products/amazon_Office_Products_test_filtered.txt
============= META INFO =============
# of Features (train + test)    : 348025
=====================================

================== QUERY INFO ==================
# of Queries                   : 744841
Sum of Transaction Length (SOT): 47782612
Average Transaction Length     : 64.1514
================================================


Eval Phase 2: Building Embedding Table...

Eval Phase 3: Running Baseline...

Total Compute Time = PIM Compute Time + Host Compute Time
                   = 2015273 + 37936875
                   = 39952148

Throughput = Total Amount of Computation / Total Compute Time
           = 3058087168 / 39952148
           = 76.5437

Reduction Sum (for verification): 96329.7

Running remapped on dataset amazon_Office_Products
Eval Phase 0: Reading Command Line Arguments...

=================== EVAL INFO ==================
Embedding Dimension                   : 64
Number of Threads                     : 20
===============================================

Eval Phase 1: Retrieving Test Queries...

testFilename : /home/seonghoon/MERCI/data/6_evaluation_input/amazon_Office_Products/partition_2748/test_remap_only.dat
============= META INFO =============
# of Items (train + test)    : 348025
=====================================

================== QUERY INFO ==================
# of Queries                   : 744841
Sum of Transaction Length (SOT): 47782612
Average Transaction Length     : 64.1514
================================================


Eval Phase 2: Building Embedding Table...

Eval Phase 3: Running Remapped...

Total Compute Time = PIM Compute Time + Host Compute Time
                   = 24068018 + 4914148
                   = 28982166

Throughput = Total Amount of Computation / Total Compute Time
           = 3058087168 / 28982166
           = 105.516

Reduction Sum (for verification): 96329.7
